(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{365:function(t,n,e){"use strict";e.r(n);var a=e(43),r=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("什么时候用并发什么时候用继发？\n同时有多个io操作，彼此不依赖，此时应该并发，时长是这多个操作中最长的那个（可能会多一点）。")]),t._v(" "),e("p",[t._v("多个io操作,2需要1的结果，3需要2的结果，此时应该继发，时长是这多个io的总和（还要多）。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('//模拟一个耗时操作\nfunction get(a){\n\treturn new Promise(function(resolve,reject){\n\t\tsetTimeout(function(){\n\t\t\tconsole.log(a);\n\t\t\tresolve();\n\t\t},2000)\n\t})\n};\n\n/*测试*/\nasync function test(){\n\ttry{\n\n\t\t//1.继发 \n\t\t/*await get("11111111111");\n\t\tawait get("22222222222");\n\t\tawait get("33333333333");\n\t\tawait get("44444444444");*/\n\n\t\t//2.并发 \n\t\t/*let a= get("11111111111");\n\t\tlet b= get("22222222222");\n\t\tlet c= get("33333333333");\n\t\tlet d= get("44444444444");\n\t\tawait a;\n\t\tawait b;\n\t\tawait c;\n\t\tawait d;*/\n\n\t\t//3继发\n\t\t/*let a= get("11111111111");\n\t\tawait a;\n\t\tlet b= get("22222222222");\n\t\tawait b;\n\t\tlet c= get("33333333333");\n\t\tawait c;\n\t\tlet d= get("44444444444");\n\t\tawait d;*/\n\n\n\n\t\t//4并发\n\t\t/*await Promise.all([\n\t\t\tget("11111111111"),\n\t\t\tget("22222222222"),\n\t\t\tget("33333333333"),\n\t\t\tget("44444444444"),\n\t\t\t]);*/\n\n\t\t//5继发\n\t\t/*let  pArr=[\n\t\t\t11111111111,\n\t\t\t22222222222,\n\t\t\t33333333333,\n\t\t\t44444444444,\n\t\t\t];\n\t\tfor(let p of pArr){\n\t\t\tawait get(p);\n\t\t}*/\n\n\t\t//6并发\n\t\t/*let  pArr=[\n\t\t\t11111111111,\n\t\t\t22222222222,\n\t\t\t33333333333,\n\t\t\t44444444444,\n\t\t\t];\n\t\tpArr.forEach(async p=>{\n\t\t\tawait get(p);\n\t\t});\n\t\t*/\n\t}catch(e){\n\t\tconsole.error(e)\n\t}\n\n}\n\ntest();\n')])])]),e("p",[t._v("依次放开注释1-6处代码，在控制台输入")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("node index\n")])])]),e("p",[t._v("观察打印")])])}),[],!1,null,null,null);n.default=r.exports}}]);